{"version":3,"file":"index.html.js","sources":["../../src/options/main.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { getSettings, setSettings, addToBlocklist, removeFromBlocklist } from '@/storage/settings';\r\n\r\nconst Options = () => {\r\n  const [blocklist, setBlocklist] = useState<string[]>([]);\r\n  const [domain, setDomain] = useState('');\r\n  const [retention, setRetention] = useState(30);\r\n\r\n  useEffect(() => {\r\n    void getSettings().then(s => {\r\n      setBlocklist(s.blocklist || []);\r\n      setRetention(s.dataRetentionDays || 30);\r\n    });\r\n  }, []);\r\n\r\n  const handleAdd = async () => {\r\n    if (!domain) return;\r\n    const next = await addToBlocklist(domain.trim().replace(/^https?:\\/\\//, '').replace(/^www\\./, ''));\r\n    setBlocklist(next.blocklist);\r\n    setDomain('');\r\n  };\r\n\r\n  const handleRemove = async (d: string) => {\r\n    const next = await removeFromBlocklist(d);\r\n    setBlocklist(next.blocklist);\r\n  };\r\n\r\n  const handleRetention = async () => {\r\n    const next = await setSettings({ dataRetentionDays: Number(retention) });\r\n    setRetention(next.dataRetentionDays);\r\n  };\r\n\r\n  return (\r\n    <main style={{ padding: 24, fontFamily: 'Inter, sans-serif', color: '#0f172a' }}>\r\n      <h1 style={{ fontSize: 24, marginBottom: 12 }}>Scrollwise Extension Settings</h1>\r\n\r\n      <section style={{ marginBottom: 18 }}>\r\n        <h2 style={{ fontSize: 16, marginBottom: 8 }}>Per-site blocklist</h2>\r\n        <p style={{ color: '#475569', marginBottom: 8 }}>Add domains to prevent tracking on specific sites (e.g. banking or private pages).</p>\r\n        <div style={{ display: 'flex', gap: 8, marginBottom: 8 }}>\r\n          <input value={domain} onChange={e => setDomain(e.target.value)} placeholder=\"example.com\" />\r\n          <button onClick={handleAdd}>Add</button>\r\n        </div>\r\n        <ul>\r\n          {blocklist.map(d => (\r\n            <li key={d} style={{ marginBottom: 6 }}>\r\n              {d} <button onClick={() => handleRemove(d)}>Remove</button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n\r\n      <section style={{ marginBottom: 18 }}>\r\n        <h2 style={{ fontSize: 16, marginBottom: 8 }}>Data retention</h2>\r\n        <p style={{ color: '#475569', marginBottom: 8 }}>How many days to keep queued/local data before automatic cleanup.</p>\r\n        <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n          <input type=\"number\" value={retention} onChange={e => setRetention(Number(e.target.value))} style={{ width: 80 }} />\r\n          <button onClick={handleRetention}>Save</button>\r\n        </div>\r\n      </section>\r\n\r\n      <section>\r\n        <h2 style={{ fontSize: 16, marginBottom: 8 }}>Notes</h2>\r\n        <p style={{ color: '#475569' }}>Use the web dashboard for account-level settings, data export, and deletion.</p>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst container = document.getElementById('options');\r\nif (container) {\r\n  const root = createRoot(container);\r\n  root.render(<Options />);\r\n}\r\n"],"names":["Options","blocklist","setBlocklist","useState","domain","setDomain","retention","setRetention","useEffect","getSettings","s","handleAdd","next","addToBlocklist","handleRemove","d","removeFromBlocklist","handleRetention","setSettings","jsxs","jsx","container","createRoot"],"mappings":"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"}